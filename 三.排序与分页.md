------

[TOC]

# 三.排序与分页

## 一.排序

若没有使用排序操作，则```SELECT * FROM employees```显示的顺序为将数据添加到表**employees**时的时间顺序。

### 1.ORDER BY语句

若未声明排序顺序，则使用ORDER BY语句时自动采取升序操作。

即**Default为DESC**。

升降序分别为：

- **ASC(Ascend)** 即升序排列

- **DESC(Descend) **即降序排列

```mysql
SELECT employee_id,salary,salary * 12 "annual salary" FROM employees ORDER BY "annual salary";
```

上述语句用于计算年薪并按年薪从高到低的降序排列来给结果的行排序。

列的别名只能在**ORDER BY**中使用，不能在**WHERE**中使用。

可以理解为**WHERE**语句是与**SELECT**语句为一体的，但**SELECT**语句也用于定义字段的别名，因此**WHERE**中的别名尚未结束定义，所以**WHERE**中不能使用同一语句中的别名。

```MYSQL
SELECT employee_id,salary,department_id FROM employees ORDER BY department_id,salary ASC;
```

同时存在多个ORDER字段时，采用从先到后的优先顺序来进行排序。

以上方代码为例，即优先以**department_id**排序，若**department_id**相同时，再按照**salary**排序，并可以此类推。

## 二.分页

### 1.limit语句

以例子展示：

```mysql
SELECT employee_id,last_name FROM employees LIMIT 0,20;
```

此代码的运行结果会显示从表**employees**从第1行到第20行的**employee_id**列和**last_name**列的所有数据。

```mysql
LIMIT /*偏移量*/ /*显示的列数*/
```

**偏移量**即显示的第一列的列序号，显示时是不显示**偏移量**对应的列的。

下列语句可实现分页效果。

```mysql
LIMIT (pageNum - 1) * pageSize,pageSize;
```

若```LIMIT```的偏移量为0，则偏移量定义可以省略，即

```mysql
LIMIT pageSize;
```

也可以写作

```MYSQL
LIMIT /*显示的列数*/ OFFSET /*偏移量*/
```

==注==：仅支持MySQL 8.0

## 三.声明顺序

```mysql
SELECT employee_id,last_name FROM employees ORDER BY salary DESC LIMIT 0,1;
-- output salary列数值最高的人的employee_id和last_name
```

由此可见```ORDER BY```的优先级高于```LIMIT```。