[TOC]



# 三.多表查询

## 一.引入

- **为什么要多表查询**

通过建立多个表来去除**冗余数据**导致的大量无效空间被占用，以及便于归类和查询。但多个表的查询需要**多表查询**的语句。

- **笛卡尔积错误**

**笛卡尔积**（又称**交叉连接**）错误，会导致大量重复无效数据。如在行数为n的表和行数为m的表中，同时查询第一个表的某一字段和第二个表中与其对应的字段，会导致查询出**m*n**条数据。

如：

```mysql
SELECT employee_id,department_name FROM employees,departments;
SELECT employee_id,department_name FROM employees CROSS JOIN departments;
```

则输出时，每个employee_id将与departments表中的每一个department_name都对应一遍，导致出现**m*n**个字段。



- **通过增加连接条件，可以减少重复数据。**

```mysql
SELECT employee_id,department_name FROM employees,departments WHERE employees.`department_id` = departments.department_id;
```

```WHERE```语句限定了，只有当employees表中的department_id和departments表中的department_id相等时，才会将这一行输出。



- **Ambigous错误**

当一个字段在多个表中都存在时，会导致**Ambigous错误**，即没有指明输出哪个表中的数据。

**解决方法：**

在字段前加入对应表的名称

```mysql
SELECT employees.department_id FROM employees,departments;
```

此时即指明了输出的数据应为employees表中的department_id列的数据。